
@startuml
title System Topology: 6 containers 

cloud "Docker Network\nmanages networking" as DockerNetwork

package "Database Layer" {
    [Database] <<container>> 
    [Database Migrations] <<container>> 
}

package "Backend Layer" {
    [Server] <<container>> 
    [Chat Engine] <<container>> 
}

package "Frontend Layer" {
    [Client] <<container>> 
    [E2E Tests] <<container>> 
}

cloud "External APIs" as ExternalAPIs

[Database Migrations] --> [Database] : Applies migrations
[Server] --> [Database] : Reads/Writes data
[Client] --> [Server] : API calls (port 8000)
[Client] --> [Chat Engine] : LLM service (port 7860)
[Chat Engine] --> [Database] : Reads/Writes embeddings\nand retrieves texts
[E2E Tests] --> [Client] : Tests frontend
[Server] --> ExternalAPIs : Makes external API calls

note right of Client
Runs on port 5173
end note

@enduml